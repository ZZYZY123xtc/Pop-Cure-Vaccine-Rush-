/* --- åœ°å›¾å±‚å®¹å™¨ --- */
#map-layer {
    position: fixed;
    top: 0;
    left: 0;
    width: 100vw;
    height: 100vh;
    background-color: #FFEBEE; /* å…œåº•èƒŒæ™¯è‰²ï¼šææµ…ç²‰ */
    z-index: 100; /* é»˜è®¤ä½ä¼˜å…ˆçº§ï¼Œä¸æŒ¡ä½ä»»ä½•ç•Œé¢ */
    overflow: hidden; /* ç¦æ­¢æ»šåŠ¨æ¡ï¼Œå†…å®¹ç”± Canvas ç»˜åˆ¶ */
    display: none; /* ğŸ‘ˆ é»˜è®¤éšè—ï¼è®©è·¯ç»™å¼€å§‹ç•Œé¢ */
}

/* ğŸ¯ æ˜¾ç¤ºçŠ¶æ€ï¼šç‚¹å‡»å¼€å§‹æŒ‰é’®åæ‰æ¿€æ´» */
#map-layer.active {
    display: block !important;
    z-index: 6000; /* æ˜¾ç¤ºæ—¶æå‡åˆ°æœ€é«˜å±‚ */
}

/* --- å…¨å±ç”»å¸ƒ --- */
#map-canvas {
    display: block;
    width: 100%;
    height: 100%;
}

/* --- é¡¶éƒ¨ä½“åŠ›æ¡ (æ‚¬æµ®èƒ¶å›Šæ ·å¼) --- */
#energy-bar {
    position: absolute;
    top: 20px;
    left: 20px;
    background: rgba(255, 255, 255, 0.9);
    padding: 8px 16px;
    border-radius: 50px; /* èƒ¶å›Šåœ†è§’ */
    box-shadow: 0 4px 15px rgba(255, 64, 129, 0.2); /* æŸ”å’Œçš„ç²‰è‰²æŠ•å½± */
    
    font-family: "Arial Rounded MT Bold", "Varela Round", sans-serif; /* åœ†ä½“å­— */
    font-weight: bold;
    color: #FF4081; /* ç³–æœç²‰å­— */
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
    pointer-events: none; /* è®©ç‚¹å‡»ç©¿é€ï¼Œä¸æŒ¡æ“ä½œ */
}

/* --- âš¡ å›¾æ ‡åŠ¨ç”» --- */
#energy-bar span.icon {
    font-size: 20px;
    animation: pulse 2s infinite;
}

@keyframes pulse {
    0% { transform: scale(1); }
    50% { transform: scale(1.2); }
    100% { transform: scale(1); }
}

/* --- å…³å¡è¯¦æƒ…å¼¹çª— (å¯é€‰) --- */
.level-popup {
    background: #FFF;
    border-radius: 20px;
    border: 4px solid #B2EBF2; /* æµ…è“è¾¹æ¡† */
    color: #555;
    /* å…·ä½“å¸ƒå±€ç”± JS åŠ¨æ€ç”Ÿæˆï¼Œè¿™é‡Œåªå®šåŸºè°ƒ */
}

/**
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ğŸ”¥ UI çŠ¶æ€æ–­è¨€ç³»ç»Ÿ - å®Œæ•´æŒ‡å—
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * ## æ¦‚è¿°
 * UI çŠ¶æ€æ–­è¨€ç³»ç»Ÿç¡®ä¿æ¸¸æˆçš„ UI çŠ¶æ€ä¸æ¸¸æˆçš„é€»è¾‘çŠ¶æ€ä¿æŒä¸€è‡´ã€‚
 * é˜²æ­¢å‡ºç°"æ¸¸æˆæ­£åœ¨è¿è¡Œä½†æ˜¾ç¤ºåœ°å›¾å±å¹•"è¿™æ ·çš„é€»è¾‘çŸ›ç›¾ã€‚
 * 
 * ## æ ¸å¿ƒè§„åˆ™
 * 
 * è§„åˆ™ 1ï¼šæ¸¸æˆè¿è¡Œä¸­ï¼ˆisGameRunning === trueï¼‰
 * âœ… å…è®¸çš„ screens: 'game', 'story'
 * âŒ ç¦æ­¢çš„ screens: 'map', 'start'
 * åŸå› ï¼šæ¸¸æˆè¿è¡Œä¸­å¿…é¡»åœ¨æ¸¸æˆæˆ–æ•…äº‹å±å¹•ä¸Š
 * 
 * è§„åˆ™ 2ï¼šæ¸¸æˆæœªè¿è¡Œï¼ˆisGameRunning === falseï¼‰
 * âœ… å…è®¸çš„ screens: 'start', 'map', 'story'
 * âš ï¸ è­¦å‘Šï¼ˆä½†å…è®¸ï¼‰: 'game'ï¼ˆå¯èƒ½åœ¨åˆå§‹åŒ–é˜¶æ®µï¼‰
 * åŸå› ï¼šæ¸¸æˆæœªè¿è¡Œæ—¶åº”è¯¥åœ¨åœ°å›¾æˆ–å¼€å§‹å±å¹•ä¸Š
 * 
 * ## å®ç°ä½ç½®
 * 
 * æ–‡ä»¶: js/managers/ui-manager-new.js
 * 
 * æ ¸å¿ƒæ–¹æ³•ï¼š
 * - assertUIState()           : æ‰§è¡ŒéªŒè¯
 * - _handleUIStateViolation() : å¤„ç†è¿è§„æƒ…å†µ
 * - setStrictUIValidation()   : é…ç½®éªŒè¯æ¨¡å¼
 * 
 * è‡ªåŠ¨è§¦å‘ç‚¹ï¼š
 * - UIManager.setScreen() æ¯æ¬¡è°ƒç”¨åè‡ªåŠ¨æ‰§è¡Œ assertUIState()
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## ä½¿ç”¨ç¤ºä¾‹
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * ### ç¤ºä¾‹ 1ï¼šæ­£å¸¸çš„æ¸¸æˆæµç¨‹
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * // åˆå§‹åŒ–
 * window.gameManager.isGameActive = false;
 * uiManager.setScreen('start');  
 * // âœ… æ–­è¨€é€šè¿‡ï¼šæ¸¸æˆæœªè¿è¡Œï¼Œstart å±å¹•æ­£ç¡®
 * 
 * // é€‰æ‹©å…³å¡
 * uiManager.setScreen('map');
 * // âœ… æ–­è¨€é€šè¿‡ï¼šæ¸¸æˆæœªè¿è¡Œï¼Œmap å±å¹•æ­£ç¡®
 * 
 * // å¼€å§‹æ¸¸æˆ
 * gameManager.startGame();
 * window.gameManager.isGameActive = true;
 * uiManager.setScreen('game');
 * // âœ… æ–­è¨€é€šè¿‡ï¼šæ¸¸æˆè¿è¡Œï¼Œgame å±å¹•æ­£ç¡®
 * 
 * ### ç¤ºä¾‹ 2ï¼šæ£€æµ‹åˆ°çš„é”™è¯¯æƒ…å†µ
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * // æ¸¸æˆè¿è¡Œä¸­é”™è¯¯åœ°åˆ‡æ¢åˆ°åœ°å›¾å±å¹•
 * window.gameManager.isGameActive = true;
 * uiManager.setScreen('map');
 * 
 * æ§åˆ¶å°è¾“å‡ºï¼š
 * âŒ UI çŠ¶æ€æ–­è¨€å¤±è´¥ï¼
 * æ¸¸æˆæ­£åœ¨è¿è¡Œï¼Œä½† screen æ˜¯ "map"ã€‚
 * è¿™è¡¨ç¤ºå­˜åœ¨é€»è¾‘é”™è¯¯ï¼Œæ¸¸æˆä¸åº”è¯¥åœ¨åœ°å›¾å±å¹•ä¸Šè¿è¡Œã€‚
 * 
 * [UIManager] ä¸¥é‡é”™è¯¯ï¼šæ¸¸æˆè¿è¡Œä¸­å´åœ¨åœ°å›¾å±å¹•ä¸Šï¼
 * [UIManager] å°è¯•è‡ªåŠ¨ä¿®æ­£ï¼Œåˆ‡æ¢åˆ° game å±å¹•...
 * 
 * ç»“æœï¼šè‡ªåŠ¨åˆ‡æ¢å› game å±å¹•
 * 
 * ### ç¤ºä¾‹ 3ï¼šè­¦å‘Šæƒ…å†µ
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * // æ¸¸æˆåˆå§‹åŒ–æ—¶æš‚æ—¶æ˜¾ç¤º game å±å¹•
 * window.gameManager.isGameActive = false;
 * uiManager.setScreen('game');  // åˆå§‹åŒ–é˜¶æ®µ
 * 
 * æ§åˆ¶å°è¾“å‡ºï¼š
 * âš ï¸ UI çŠ¶æ€è­¦å‘Šï¼
 * æ¸¸æˆæœªè¿è¡Œï¼Œä½† screen æ˜¯ "game"ã€‚
 * è¿™å¯èƒ½æ˜¯æ¸¸æˆåˆå§‹åŒ–é˜¶æ®µï¼Œé€šå¸¸æ˜¯æ­£å¸¸çš„ã€‚
 * 
 * ç»“æœï¼šå‘å‡ºè­¦å‘Šä½†ä¸é˜»æ­¢ï¼Œå…è®¸ç»§ç»­
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## é…ç½®é€‰é¡¹
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * ### è®¾ç½®ä¸¥æ ¼æ¨¡å¼
 * 
 * // å¯ç”¨ä¸¥æ ¼éªŒè¯ï¼ˆæ¨èç”¨äºå¼€å‘é˜¶æ®µï¼‰
 * uiManager.setStrictUIValidation(true);
 * 
 * // ç¦ç”¨ä¸¥æ ¼éªŒè¯ï¼ˆç”¨äºç”Ÿäº§ç¯å¢ƒï¼Œåªå‘è­¦å‘Šï¼‰
 * uiManager.setStrictUIValidation(false);
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## å·¥ä½œæµç¨‹
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * 1. setScreen(screenName) è¢«è°ƒç”¨
 *    â†“
 * 2. screen çŠ¶æ€è¢«æ›´æ–°ï¼ˆå…³é—­æ—§çš„ï¼Œæ‰“å¼€æ–°çš„ï¼‰
 *    â†“
 * 3. è§¦å‘ 'screenChanged' äº‹ä»¶
 *    â†“
 * 4. è‡ªåŠ¨è°ƒç”¨ assertUIState()
 *    â†“
 * 5. æ£€æŸ¥è§„åˆ™1å’Œè§„åˆ™2
 *    â†“
 * 6-A. é€šè¿‡ï¼šè®°å½• âœ… UI çŠ¶æ€æ£€æŸ¥é€šè¿‡
 * 6-B. å¤±è´¥ï¼šæ‰§è¡Œ _handleUIStateViolation()
 *    â†“
 * 7. è¿”å› true æˆ– false
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## é›†æˆç‚¹å’Œä¾èµ–
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * ### ä¾èµ–é¡¹ï¼š
 * - window.gameManager: å…¨å±€æ¸¸æˆç®¡ç†å™¨
 *   æœŸæœ›çš„å±æ€§ï¼šisGameActive æˆ– isGameRunning
 * 
 * ### è§¦å‘ç‚¹ï¼š
 * - UIManager.setScreen() æ–¹æ³•å†…éƒ¨ï¼ˆè‡ªåŠ¨ï¼‰
 * 
 * ### å½±å“çš„ä»£ç ï¼š
 * 1. ä»»ä½•è°ƒç”¨ setScreen() çš„ä»£ç éƒ½ä¼šè‡ªåŠ¨å—åˆ°éªŒè¯
 * 2. é”™è¯¯æƒ…å†µä¼šç”Ÿæˆè­¦å‘Šæˆ–ä¿®å¤æ“ä½œ
 * 3. ä¸ä¼šé˜»æ­¢å±å¹•åˆ‡æ¢ï¼Œåªä¼šéªŒè¯å’Œä¿®å¤
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## æœ€ä½³å®è·µ
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * âœ… DOï¼š
 * - åœ¨æ”¹å˜æ¸¸æˆå¯åŠ¨çŠ¶æ€æ—¶ï¼Œç¡®ä¿æ›´æ–° gameManager.isGameActive
 * - è®¾ç½®æ­£ç¡®çš„å±å¹•ï¼šè¿è¡Œæ—¶ç”¨ 'game'ï¼Œåœæ­¢æ—¶ç”¨ 'map'
 * - åœ¨å¼€å‘æœŸé—´å¯ç”¨ä¸¥æ ¼éªŒè¯æ¥æ•è·é”™è¯¯
 * - æ£€æŸ¥æ§åˆ¶å°è¾“å‡ºä»¥äº†è§£ UI çŠ¶æ€å˜åŒ–
 * 
 * âŒ DON'Tï¼š
 * - ç›´æ¥æ“çºµ screens çš„ DOMï¼Œä½¿ç”¨ setScreen() ä»£æ›¿
 * - å¿½è§†æ§åˆ¶å°è­¦å‘Šï¼Œè¿™è¡¨ç¤ºæ½œåœ¨çš„é€»è¾‘é”™è¯¯
 * - åœ¨ç”Ÿäº§ç¯å¢ƒä¸­è®¾ç½®è¿‡åº¦ä¸¥æ ¼çš„éªŒè¯å¯¼è‡´ç”¨æˆ·çœ‹åˆ°é”™è¯¯
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## è°ƒè¯•æŠ€å·§
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * 1. ç›‘å¬ screenChanged äº‹ä»¶ï¼š
 *    window.addEventListener('screenChanged', (e) => {
 *        console.log('å±å¹•å·²åˆ‡æ¢åˆ°:', e.detail.screenName);
 *    });
 * 
 * 2. æ£€æŸ¥å½“å‰çŠ¶æ€ï¼š
 *    console.log(uiManager.getActiveScreen());       // å½“å‰å±å¹•
 *    console.log(gameManager.isGameActive);           // æ¸¸æˆæ˜¯å¦è¿è¡Œ
 * 
 * 3. æ‰‹åŠ¨è§¦å‘éªŒè¯ï¼š
 *    const result = uiManager.assertUIState();
 *    console.log(result ? 'âœ… é€šè¿‡' : 'âŒ å¤±è´¥');
 * 
 * 4. å¯ç”¨ä¸¥æ ¼æ¨¡å¼æ¥è¿½è¸ªæ‰€æœ‰é—®é¢˜ï¼š
 *    uiManager.setStrictUIValidation(true);
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * ## ç›¸å…³æ–‡ä»¶
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 * 
 * - js/managers/ui-manager-new.js     : UIManager ä¸»å®ç°
 * - index-new.html                    : å±å¹•ç»“æ„å®šä¹‰
 * - css/screen-overlay.css            : å±å¹•æ ·å¼è§„åˆ™
 * 
 * â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
 */

// è¿™æ˜¯ä¸€ä¸ªçº¯æ–‡æ¡£æ–‡ä»¶ï¼Œä¸åŒ…å«å¯æ‰§è¡Œä»£ç 
// å®é™…çš„å®ç°åœ¨ ui-manager-new.js ä¸­
